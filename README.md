# üéØ Mafia Leaderboard Parser

<div align="center">

![Mafia](https://img.shields.io/badge/Game-Mafia-red?style=for-the-badge&logo=target)
![Docker](https://img.shields.io/badge/Docker-Ready-blue?style=for-the-badge&logo=docker)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–µ—Ä —Ç–æ–ø-3 –∏–≥—Ä–æ–∫–æ–≤ —Å —Å–∞–π—Ç–∞ Mafia Style**

</div>

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

–ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ø-3 –∏–≥—Ä–æ–∫–æ–≤ —Å —Å–∞–π—Ç–∞ mafiastyle.pythonanywhere.com –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∏–∫–Ω–µ–π–º –∏ —Ä–µ–π—Ç–∏–Ω–≥ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ.

## ‚≠ê –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üöÄ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥** –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- üíæ **–£–º–Ω–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è** ‚Äî —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- üîÑ **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞** –ª–æ–≥–æ–≤ –∏ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üìä **–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ** ‚Äî 50-100MB RAM

## üèÅ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫
git clone <repository-url>
cd MSParser
make start

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
make status     # –°—Ç–∞—Ç—É—Å –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
make logs       # –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
make monitor    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
make stop       # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
**`data/latest.json`** ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É:
```json
[
  {
    "name": "–ò–Ω—Ç–µ–≥—Ä–∞–ª",
    "score": "23.38"
  },
  {
    "name": "–ë—Ä—é—Å", 
    "score": "16.69"
  },
  {
    "name": "–§–∞–Ω–§–∞–Ω –¢—é–ª—å–ø–∞–Ω",
    "score": "16.48"
  }
]
```

### –ê—Ä—Ö–∏–≤ –∏–∑–º–µ–Ω–µ–Ω–∏–π
**`data/archive_YYYYMMDD_HHMM.json`** ‚Äî —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–æ–ø-3:
- `archive_20250530_1445.json` ‚Äî –¥–∞–Ω–Ω—ã–µ –∫–æ–≥–¥–∞ —Ä–µ–π—Ç–∏–Ω–≥ –∏–∑–º–µ–Ω–∏–ª—Å—è –≤ 14:45
- `archive_20250530_1823.json` ‚Äî –¥–∞–Ω–Ω—ã–µ –∫–æ–≥–¥–∞ —Ä–µ–π—Ç–∏–Ω–≥ –∏–∑–º–µ–Ω–∏–ª—Å—è –≤ 18:23

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

**–ò–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø–∞—Ä—Å–∏–Ω–≥–∞** –≤ `Dockerfile`:
```dockerfile
# –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ –∫–∞–∂–¥–æ–π –º–∏–Ω—É—Ç—ã
RUN echo "*/5 * * * * cd /app && scrapy crawl mafia >> /var/log/cron.log 2>&1" | crontab -
```

**–ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä—Ö–∏–≤–æ–≤** –≤ `mafia_parser/spiders/mafia.py`:
```python
# –°–æ—Ö—Ä–∞–Ω—è—Ç—å 50 –∞—Ä—Ö–∏–≤–æ–≤ –≤–º–µ—Å—Ç–æ 30
if len(files) > 50:
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –°—Ç–∞—Ç—É—Å —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
make status
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üìä Mafia Parser Status
======================
‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: –ó–ê–ü–£–©–ï–ù
üìÅ –§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö: 12 –∞—Ä—Ö–∏–≤–æ–≤
üíæ –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö: 180K

üìã –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   1. –ò–Ω—Ç–µ–≥—Ä–∞–ª - 23.38
   2. –ë—Ä—é—Å - 16.69
   3. –§–∞–Ω–§–∞–Ω –¢—é–ª—å–ø–∞–Ω - 16.48
```

---

<div align="center">

**üéØ –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `make start`**

</div>